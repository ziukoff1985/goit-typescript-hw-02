import { useEffect, useRef } from 'react';
import toast from 'react-hot-toast';

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ErrorMessage
// –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ react-hot-toast
const ErrorMessage: React.FC = () => {
  // useRef –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É, —á–∏ –≤–∂–µ –±—É–ª–æ –ø–æ–∫–∞–∑–∞–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (toast)
  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è false, –±–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —â–µ –Ω–µ –ø–æ–∫–∞–∑—É–≤–∞–ª–æ—Å—å
  const hasToastShown = useRef<boolean>(false);

  // 'useEffect' –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –µ—Ñ–µ–∫—Ç—É - –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –ø–æ–º–∏–ª–∫–æ—é
  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∂–µ –±—É–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ
  // –Ø–∫—â–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —â–µ –Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –≤–∏–∫–ª–∏–∫–∞—î–º–æ toast –∑ —Ç–µ–∫—Å—Ç–æ–º –ø–æ–º–∏–ª–∫–∏
  // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å —É true, —â–æ–± –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±—ñ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—É–≤–∞–ª–æ—Å—å
  useEffect(() => {
    if (!hasToastShown.current) {
      toast.error('Something went wrong ü§¶‚Äç‚ôÇÔ∏è, try again...');
      hasToastShown.current = true; // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å
    }
  }, []); // –ü–æ—Ä–æ–∂–Ω—ñ–π –º–∞—Å–∏–≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –æ–∑–Ω–∞—á–∞—î, —â–æ –µ—Ñ–µ–∫—Ç –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É

  return null; // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∂–æ–¥–Ω–æ–≥–æ HTML-–µ–ª–µ–º–µ–Ω—Ç–∞
};

export default ErrorMessage;
